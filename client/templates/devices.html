<template name="devices">
  {{setActive}}
  <svg class="devices" width=100% height=100%>
    <rect x=0 y=0 width=100% height=75 fill=#000 />
    <rect x=0 y=75 width=100% height=100 fill=#bfbfbf />
    <path d="M 0 0 L 146 100 L 292 0 Z" fill=#262626 />
    <text class="devices-header" x=76.5 y=44>Registered Devices</text>
    <text class="notification" x=250 y=65></text>
    <g class="add-device-button">
      <rect x=760 y=0 width=200 height=75 fill=transparent />
      <text x=800 y=44 class="icon">+</text><text x=815 y=44 class="text">Add a Device</text>
    </g>
    {{#if deviceCount}}
      {{> add_new_device_form}}
      <g class="column-headers">
        <text x=100 y=132 class="device-name-header">Device Name</text>
        <text x=313.5 y=132 class="serial-number-header">Serial Number</text>
        <text x=496 y=132 class="status-header">Status</text>
        <text x=606 y=132 class="most-recent-contact-header">Most Recent Contact</text>
        <text x=810 y=132 class="jobs-header">Jobs</text>
        <text x=872 y=132 class="controls-header">Controls</text>
      </g>
      {{#each devices}}
        <g class="device-row-{{this._index}}">
          <rect class="row-background" x=0 y={{this._vertical_position}} width=100% height=100 />
          <foreignObject class="add-device-name" x=15 y={{this._input_vertical_position}} width=235 height=35>
            <body>
              <form class="add-device-name-form" action="/add-device-name" method="post">
                <button class="submit-device-name">âœŽ</button>
                <input class="device-name-input" placeholder="Give this device a name" value={{this.name}}>
              </form>
            </body>
          </foreignObject>
          <text class="serial-number" x=366.5 y={{this._text_vertical_position}}>{{this._id}}</text>
          <text class="device-status {{this._status_class}}" x=517.5 y={{this._text_vertical_position}}>{{this._status}}</text>
          <text class="most-recent-contact" x=683.5 y={{this._text_vertical_position}}>{{this._contact}}</text>
          <g class="jobs-button">
            <rect class="hitbox" x=810 y={{this._jobs_icon_vertical_position}} width=42 height=32 />
            <g class="icon" transform="translate(820,{{this._jobs_icon_vertical_position}}) scale(0.66)">
              <path d="M41,46c-2.757,0-5-2.243-5-5s2.243-5,5-5s5,2.243,5,5S43.757,46,41,46z M41,38c-1.654,0-3,1.346-3,3s1.346,3,3,3s3-1.346,3-3S42.654,38,41,38z" />
              <path d="M13,46H9c-0.553,0-1-0.447-1-1V11c0-1.654,1.346-3,3-3s3,1.346,3,3v34C14,45.553,13.553,46,13,46z M10,44h2V11c0-0.552-0.448-1-1-1s-1,0.448-1,1V44z"/>
              <path d="M27,46c-3.859,0-7-3.141-7-7s3.141-7,7-7s7,3.141,7,7S30.859,46,27,46z M27,34c-2.757,0-5,2.243-5,5s2.243,5,5,5s5-2.243,5-5S29.757,34,27,34z"/>
              <path d="M36.001,29c-0.08,0-0.162-0.01-0.243-0.03c-0.536-0.134-0.862-0.677-0.728-1.212l2-8c0.134-0.537,0.676-0.865,1.212-0.728c0.536,0.134,0.862,0.677,0.728,1.212l-2,8C36.856,28.697,36.449,29,36.001,29z"/>
              <path d="M27,27c-0.256,0-0.512-0.098-0.707-0.293l-2-2c-0.391-0.391-0.391-1.023,0-1.414s1.023-0.391,1.414,0l2,2c0.391,0.391,0.391,1.023,0,1.414C27.512,26.902,27.256,27,27,27z"/>
              <path d="M17,35c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l9-9c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-9,9C17.512,34.902,17.256,35,17,35z"/>
              <path d="M27,34c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l5-5C31.48,27.105,31.734,27,32,27h11c0.553,0,1,0.447,1,1s-0.447,1-1,1H32.414l-4.707,4.707C27.512,33.902,27.256,34,27,34z"/>
              <path d="M13,46H1c-0.553,0-1-0.447-1-1s0.447-1,1-1h12c0.553,0,1,0.447,1,1S13.553,46,13,46z"/>
              <path d="M9,36H3c-0.553,0-1-0.447-1-1s0.447-1,1-1h6c0.553,0,1,0.447,1,1S9.553,36,9,36z"/>
              <rect height="2" width="4.93" x="32.197" y="41"/>
              <path d="M47,43h-2.127v-2H46v-9.5l-3.6-2.7C42.148,28.611,42,28.314,42,28V17c0-1.654-1.346-3-3-3h-4c-9.374,0-17,7.626-17,17v10     h3.803v2H17c-0.553,0-1-0.447-1-1V31c0-10.477,8.523-19,19-19h4c2.757,0,5,2.243,5,5v10.5l3.6,2.7c0.252,0.188,0.4,0.485,0.4,0.8v11C48,42.553,47.553,43,47,43z"/>
            </g>
            <circle cx=810 cy={{this._shape_vertical_position}} r=10 />
            <text x=810 y={{this._text_vertical_position}}>{{this.jobs.length}}</text>
          </g>
          <g class="controls-button">
            <rect class="hitbox" x=882 y={{this._controls_icon_vertical_position}} width=42 height=38 />
            <g class="icon" transform="translate(892, {{this._controls_icon_vertical_position}}) scale(0.66)">
              <path d="M44,48H4c-2.206,0-4-1.794-4-4V4c0-2.206,1.794-4,4-4h40c2.206,0,4,1.794,4,4v40C48,46.206,46.206,48,44,48z M4,2C2.897,2,2,2.897,2,4v40c0,1.103,0.897,2,2,2h40c1.103,0,2-0.897,2-2V4c0-1.103-0.897-2-2-2H4z"/>
              <path d="M24,30c-0.552,0-1-0.447-1-1V15c0-0.553,0.448-1,1-1s1,0.447,1,1v14C25,29.553,24.552,30,24,30z"/>
              <path d="M34,30c-0.552,0-1-0.447-1-1v-4c0-0.553,0.448-1,1-1s1,0.447,1,1v4C35,29.553,34.552,30,34,30z"/>
              <path d="M14,18c-0.552,0-1-0.447-1-1V7c0-0.553,0.448-1,1-1s1,0.447,1,1v10C15,17.553,14.552,18,14,18z"/>
              <path d="M14,30c-0.552,0-1-0.447-1-1v-8c0-0.553,0.448-1,1-1s1,0.447,1,1v8C15,29.553,14.552,30,14,30z"/>
              <path d="M34,22c-0.552,0-1-0.447-1-1V7c0-0.553,0.448-1,1-1s1,0.447,1,1v14C35,21.553,34.552,22,34,22z"/>
              <path d="M24,12c-0.552,0-1-0.447-1-1V7c0-0.553,0.448-1,1-1s1,0.447,1,1v4C25,11.553,24.552,12,24,12z"/>
              <path d="M37,26h-6c-0.552,0-1-0.447-1-1v-4c0-0.553,0.448-1,1-1h6c0.552,0,1,0.447,1,1v4C38,25.553,37.552,26,37,26z M32,24h4v-2h-4V24z"/>
              <path d="M27,16h-6c-0.552,0-1-0.447-1-1v-4c0-0.553,0.448-1,1-1h6c0.552,0,1,0.447,1,1v4C28,15.553,27.552,16,27,16z M22,14h4v-2h-4V14z"/>
              <path d="M17,22h-6c-0.552,0-1-0.447-1-1v-4c0-0.553,0.448-1,1-1h6c0.552,0,1,0.447,1,1v4C18,21.553,17.552,22,17,22z M12,20h4v-2h-4V20z"/>
              <path d="M34,42c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S36.206,42,34,42z M34,36c-1.103,0-2,0.897-2,2s0.897,2,2,2s2-0.897,2-2S35.103,36,34,36z"/>
              <path d="M24,42c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S26.206,42,24,42z M24,36c-1.103,0-2,0.897-2,2s0.897,2,2,2s2-0.897,2-2S25.103,36,24,36z"/>
              <path d="M14,42c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S16.206,42,14,42z M14,36c-1.103,0-2,0.897-2,2s0.897,2,2,2s2-0.897,2-2S15.103,36,14,36z"/>
            </g>
            <circle cx=882 cy={{this._shape_vertical_position}} r=10 />
            <text x=882 y={{this._text_vertical_position}}>{{this.devices.length}}</text>
          </g>
        </g>
      {{/each}}
    {{else}}
      {{> add_new_device_form}}
    {{/if}}
  </svg>
</template>
